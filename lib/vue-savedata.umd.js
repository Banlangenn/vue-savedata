!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function e(){return(e=Object.assign||function(e){for(var r=1;arguments.length>r;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}module.exports=function(r){var t=void 0===r?{}:r,o=t.SS,a=void 0===o?null:o,n=t.LS,i=void 0===n?null:n,l=t.saveName,s=void 0===l?"saveData":l,u=t.ciphertext,f=void 0!==u&&u,c=t.encode,d=void 0===c?function(e){return window.btoa(encodeURIComponent(JSON.stringify(e)))}:c,y=t.decode,v=void 0===y?function(e){return JSON.parse(decodeURIComponent(window.atob(e)))}:y,p=t.setState,m=void 0===p?function(e,r){e=f?d(e):JSON.stringify(e),window[r].setItem(s,e)}:p,S=t.getState,b=void 0===S?function(e){try{var r=window[e].getItem(s);return r?f?v(r):JSON.parse(r):null}catch(e){return null}}:S,h=t.checkParams,w=void 0===h?function(e){return e.hasOwnProperty("storePath")&&e.hasOwnProperty("module")?!(!e.module.hasOwnProperty("state")||!e.module.hasOwnProperty("mutations"))||(console.warn("module约定必须要有mutations、state"),!1):(console.warn("SS,LS的key约定必须包含storePath、module"),!1)}:h;return function(r){var t,o=!a||Array.isArray(a)?a:[a],n=!i||Array.isArray(i)?i:[i],l=null,s=null;if(n){for(var u=Array.isArray(c=n),f=0,c=u?c:c[Symbol.iterator]();;){var d;if(u){if(f>=c.length)break;d=c[f++]}else{if((f=c.next()).done)break;d=f.value}if(!w(d)){n=null;break}}n&&(s=t=b("localStorage"))}if(o){for(var y=Array.isArray(p=o),v=0,p=y?p:p[Symbol.iterator]();;){var S;if(y){if(v>=p.length)break;S=p[v++]}else{if((v=p.next()).done)break;S=v.value}if(!w(S)){o=null;break}}o&&(l=b("sessionStorage"),t=t?e({},t,l):l)}n||o||(t=b("localStorage")),t&&r.replaceState(e({},r.state,t)),r.subscribe(function(r,t){if(n){for(var u=null,f=Array.isArray(d=n),c=0,d=f?d:d[Symbol.iterator]();;){var y;if(f){if(c>=d.length)break;y=d[c++]}else{if((c=d.next()).done)break;y=c.value}var v,p=y;Object.prototype.hasOwnProperty.call(p.module.mutations,r.type)&&(u=e({},u,((v={})[p.storePath]=t[p.storePath],v)))}if(u&&(s=e({},s,u),m(s,"localStorage")),!o)return}if(o){for(var S=null,b=Array.isArray(w=o),h=0,w=b?w:w[Symbol.iterator]();;){var g;if(b){if(h>=w.length)break;g=w[h++]}else{if((h=w.next()).done)break;g=h.value}var O,P=g;Object.prototype.hasOwnProperty.call(P.module.mutations,r.type)&&(S=e({},S,((O={})[P.storePath]=t[P.storePath],O)))}S&&(l=e({},l,S),m(l,"sessionStorage"))}else!i&&!a&&m(t,"localStorage")})}}});
